import MapView, { PROVIDER_GOOGLE } from 'react-native-maps';
import React, {Component} from 'react';
import {Text, StyleSheet, View, Switch, Dimensions, TouchableOpacity} from 'react-native';


findCoordinates = () => {
  navigator.geolocation.getCurrentPosition(
    position => {
      const location = JSON.stringify(position);

      this.setState({ location });
    },
    error => Alert.alert(error.message),
    { enableHighAccuracy: true, timeout: 20000, maximumAge: 1000 }
  );
};

const styles = StyleSheet.create({
  container: {
    position: 'absolute',
    flex: 1,
    top: 0,
    left: 0,
    right: 0,
    bottom: 0,
    justifyContent: 'flex-end',
    alignItems: 'center',
  },
  map: {
    position: 'absolute',
    flex: 1,
    top: 0,
    left: 0,
    right: 0,
    bottom: 0,
  },
});

export default () => (
   <View style={styles.container}>
     <MapView
     provider={PROVIDER_GOOGLE}
       style={styles.map}
       region={{
         latitude: 37.78825,
         longitude: -122.4324,
         latitudeDelta: 0.015,
         longitudeDelta: 0.0121,
       }}
     >
     <TouchableOpacity onPress={this.findCoordinates}>
     <Text style={{
       top: 80,
       right: 20,
       position: 'absolute',
       alignSelf: 'flex-end'}}>Locate</Text>

     </TouchableOpacity>


     </MapView>
   </View>

);
